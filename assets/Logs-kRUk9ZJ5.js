import{c as e,M as Q,i as t,F as x,b as C,d as v,k as y,p as X,j as Z,g as I,y as K,al as U,am as Y,N as ee,ae as G,Q as te,ap as le,aq as re,t as A,E as se,e as ae}from"./vendor-XL6gZW1S.js";import{c as ne,g as oe,a as ce,e as ie,f as P,r as de}from"./index-0roT6USE.js";import{u as W,A as ue,T as ge,E as he,L as u,F as fe,G as ve,H as O,I as B,J as H,M as me,c as _e,B as q,z as $e}from"./index-FVAwFNDJ.js";import{C as M}from"./ConfigTitle-mdfEp71g.js";const be=v('<div class="flex flex-col gap-4"><div><select class="select select-bordered w-full"></select></div><div><select class="select select-bordered w-full"></select></div><div><select class="select select-bordered w-full">'),k=v("<option>"),pe=o=>{const[a]=W();return e(me,{ref:i=>{var c;return(c=o.ref)==null?void 0:c.call(o,i)},get icon(){return e(Q,{size:24})},get title(){return a("logsSettings")},get children(){const i=be(),c=i.firstChild,d=c.firstChild,_=c.nextSibling,$=_.firstChild,w=_.nextSibling,b=w.firstChild;return t(c,e(M,{withDivider:!0,get children(){return a("tableSize")}}),d),d.addEventListener("change",l=>ue(l.target.value)),t(d,e(x,{get each(){return Object.values(ge)},children:l=>(()=>{const n=k();return n.value=l,t(n,()=>a(l)),n})()})),t(_,e(M,{withDivider:!0,get children(){return a("logLevel")}}),$),$.addEventListener("change",l=>he(l.target.value)),t($,e(x,{get each(){return[u.Info,u.Error,u.Warning,u.Debug,u.Silent]},children:l=>(()=>{const n=k();return n.value=l,t(n,()=>a(l)),n})()})),t(w,e(M,{withDivider:!0,get children(){return a("logMaxRows")}}),b),b.addEventListener("change",l=>fe(parseInt(l.target.value))),t(b,e(x,{each:ve,children:l=>(()=>{const n=k();return n.value=l,t(n,l),n})()})),C(()=>d.value=O()),C(()=>$.value=B()),C(()=>b.value=H()),i}})},Se=v("<span>"),xe=v('<div class="flex h-full flex-col gap-2"><div class="flex w-full gap-2"><input type=search class="input input-primary input-sm flex-1 flex-shrink-0"></div><div class="overflow-x-auto whitespace-nowrap rounded-md bg-base-300"><table><thead class="sticky top-0 z-10"></thead><tbody>'),Ce=v("<tr>"),we=v('<th class=bg-base-200><div class="flex items-center"><div>'),Le=v('<tr class="hover:!bg-primary hover:text-primary-content">'),ye=v("<td class=py-2>"),N=(o,a,i,c)=>{const d=de(o.getValue(a),i);return c({itemRank:d}),d.passed},Ee=()=>{let o;const[a]=W();let i=1;const[c,d]=y([]),[_,$]=y(!1),w=_e("logs",{level:B()});X(()=>{const r=w();!r||_()||(d(g=>[{...r,seq:i},...g].slice(0,H())),i++)});const[b,l]=y(""),[n,V]=Z(y([]),{name:"logsTableSorting",storage:localStorage}),j=[{header:a("sequence"),accessorFn:r=>r.seq},{header:a("type"),accessorFn:r=>r.type,cell:({row:r})=>{const g=r.original.type;let h="";switch(g){case u.Error:h="text-error";break;case u.Warning:h="text-warning";break;case u.Info:h="text-info";break;case u.Debug:h="text-success";break}return(()=>{const p=Se();return I(p,h),t(p,()=>`[${r.original.type}]`),p})()}},{header:a("payload"),accessorFn:r=>r.payload}],E=ne({filterFns:{fuzzy:N},state:{get globalFilter(){return b()},get sorting(){return n()}},get data(){return c()},sortDescFirst:!0,columns:j,onGlobalFilterChange:l,onSortingChange:V,globalFilterFn:N,getFilteredRowModel:oe(),getSortedRowModel:ce(),getCoreRowModel:ie()});return(()=>{const r=xe(),g=r.firstChild,h=g.firstChild,p=g.nextSibling,R=p.firstChild,z=R.firstChild,J=z.nextSibling;return h.$$input=s=>l(s.target.value),t(g,e(q,{class:"btn-circle btn-sm",onClick:()=>$(s=>!s),get icon(){return K(()=>!!_())()?e(U,{}):e(Y,{})}}),null),t(g,e(q,{class:"btn-circle btn-sm",onClick:()=>o==null?void 0:o.showModal(),get icon(){return e(ee,{})}}),null),t(z,e(G,{get each(){return E.getHeaderGroups()},children:s=>{const m=s();return(()=>{const f=Ce();return t(f,e(G,{get each(){return m.headers},children:L=>{const S=L();return(()=>{const D=we(),T=D.firstChild,F=T.firstChild;return te(F,"click",S.column.getToggleSortingHandler(),!0),t(F,()=>P(S.column.columnDef.header,S.getContext())),t(T,()=>({asc:e(le,{}),desc:e(re,{})})[S.column.getIsSorted()]??null,null),C(()=>I(F,A(S.column.getCanSort()&&"cursor-pointer select-none","flex-1"))),D})()}})),f})()}})),t(J,e(x,{get each(){return E.getRowModel().rows},children:s=>(()=>{const m=Le();return t(m,e(x,{get each(){return s.getVisibleCells()},children:f=>(()=>{const L=ye();return t(L,()=>P(f.column.columnDef.cell,f.getContext())),L})()})),m})()})),t(r,e(pe,{ref:s=>o=s}),null),C(s=>{const m=a("search"),f=A($e(O()),"table relative rounded-none");return m!==s._v$&&se(h,"placeholder",s._v$=m),f!==s._v$2&&I(R,s._v$2=f),s},{_v$:void 0,_v$2:void 0}),r})()};ae(["input","click"]);export{Ee as default};
